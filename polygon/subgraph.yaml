specVersion: 0.0.5
schema:
  file: ../schema.graphql
dataSources:
  - kind: ethereum
    name: Accounts
    network: mumbai
    source:
      address: "0xf04B21CAF20A131588a3B577BB7AD6c8b37b4326"
      abi: Accounts
      startBlock: 39305168
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - User
        - Endowment
        - EndowmentTokenLocked
        - EndowmentTokenLiquid
        - EndowmentTokenAllowanceSpender
        - EndowmentDepositTransaction
        - EndowmentWithdrawTransaction
        - EndowmentSwapTransaction
      abis:
        - name: Accounts
          file: ../abis/Accounts.json
      eventHandlers:
        - event: EndowmentCreated(uint256,uint8)
          handler: handleEndowmentCreated
        - event: EndowmentDeposit(uint256,address,uint256,uint256)
          handler: handleEndowmentDeposit
        - event: EndowmentWithdraw(uint256,address,uint256,uint8,address,uint32)
          handler: handleEndowmentWithdraw
        - event: AllowanceUpdated(uint256,address,address,uint256,uint256,uint256)
          handler: handleAllowanceUpdated
        - event: AllowanceSpent(uint256,address,address,uint256)
          handler: handleAllowanceSpent
        - event: TokenSwapped(uint256,uint8,address,uint256,address,uint256)
          handler: handleTokenSwapped
      file: ../src/accounts.ts
  - kind: ethereum
    name: APTeamMultiSig
    network: mumbai
    source:
      address: "0x9fb2Fe98029D760167E74115B09bab97124EbC7E"
      abi: APTeamMultiSig
      startBlock: 39305147
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - User
        - MultiSig
        - MultiSigOwner
        - MultiSigTransaction
        - TransactionConfirmation
      abis:
        - name: APTeamMultiSig
          file: ../abis/APTeamMultiSig.json
      eventHandlers:
        - event: InitializedMultiSig(address,address[],uint256,bool,uint256)
          handler: handleInitializedMultiSig
        - event: ApprovalsRequiredChanged(address,uint256)
          handler: handleApprovalsRequiredChanged
        - event: RequireExecutionChanged(address,bool)
          handler: handleRequireExecutionChanged
        - event: ExpiryChanged(address,uint256)
          handler: handleExpiryChanged
        - event: OwnersAdded(address,address[])
          handler: handleOwnersAdded
        - event: OwnersRemoved(address,address[])
          handler: handleOwnersRemoved
        - event: OwnerReplaced(address,address,address)
          handler: handleOwnerReplaced
        - event: TransactionSubmitted(address,address,uint256,bytes)
          handler: handleTransactionSubmitted
        - event: TransactionConfirmed(address,address,uint256)
          handler: handleTransactionConfirmed
        - event: TransactionExecuted(address,uint256)
          handler: handleTransactionExecuted
        - event: TransactionConfirmationRevoked(address,address,uint256)
          handler: handleTransactionConfirmationRevoked
      file: ../src/ap-team-multi-sig.ts
  - kind: ethereum
    name: CharityApplications
    network: mumbai
    source:
      address: "0x9f4F6436E351Fc04731ac522Ab90C5C1a3a8FDF4"
      abi: CharityApplications
      startBlock: 39305227
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - User
        - MultiSig
        - MultiSigOwner
        - MultiSigTransaction
        - TransactionConfirmation
        - ApplicationProposal
        - ApplicationConfirmation
      abis:
        - name: CharityApplications
          file: ../abis/CharityApplications.json
      eventHandlers:
        - event: InitializedMultiSig(address,address[],uint256,bool,uint256)
          handler: handleInitializedMultiSig
        - event: ApprovalsRequiredChanged(address,uint256)
          handler: handleApprovalsRequiredChanged
        - event: RequireExecutionChanged(address,bool)
          handler: handleRequireExecutionChanged
        - event: ExpiryChanged(address,uint256)
          handler: handleExpiryChanged
        - event: OwnersAdded(address,address[])
          handler: handleOwnersAdded
        - event: OwnersRemoved(address,address[])
          handler: handleOwnersRemoved
        - event: OwnerReplaced(address,address,address)
          handler: handleOwnerReplaced
        - event: TransactionSubmitted(address,address,uint256,bytes)
          handler: handleTransactionSubmitted
        - event: TransactionConfirmed(address,address,uint256)
          handler: handleTransactionConfirmed
        - event: TransactionExecuted(address,uint256)
          handler: handleTransactionExecuted
        - event: TransactionConfirmationRevoked(address,address,uint256)
          handler: handleTransactionConfirmationRevoked
        - event: ApplicationConfirmationRevoked(uint256,address)
          handler: handleApplicationConfirmationRevoked
        - event: ApplicationConfirmed(uint256,address)
          handler: handleApplicationConfirmed
        - event: ApplicationExecuted(uint256)
          handler: handleApplicationExecuted
        - event: ApplicationProposed(uint256,address,string,uint256,bytes)
          handler: handleApplicationProposed
      file: ../src/charity-applications.ts
  - kind: ethereum
    name: EndowmentMultiSigEmitter
    network: mumbai
    source:
      address: "0x083795B5ad3220afe41C0Ff940A11a074e130f22"
      abi: EndowmentMultiSigEmitter
      startBlock: 39305247
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - User
        - MultiSig
        - MultiSigOwner
        - MultiSigTransaction
        - TransactionConfirmation
      abis:
        - name: EndowmentMultiSigEmitter
          file: ../abis/EndowmentMultiSigEmitter.json
      eventHandlers:
        - event: EndowmentMultisigCreated(address,uint256,address,address[],uint256,bool,uint256)
          handler: handleEndowmentMultisigCreated
        - event: ApprovalsRequirementChanged(uint256,uint256)
          handler: handleApprovalsRequirementChanged
        - event: RequireExecutionChanged(uint256,bool)
          handler: handleRequireExecutionChanged
        - event: ExpiryChanged(uint256,uint256)
          handler: handleExpiryChanged
        - event: OwnersAdded(uint256,address[])
          handler: handleOwnersAdded
        - event: OwnersRemoved(uint256,address[])
          handler: handleOwnersRemoved
        - event: TransactionSubmitted(uint256,address,uint256,bytes)
          handler: handleTransactionSubmitted
        - event: TransactionConfirmed(uint256,address,uint256)
          handler: handleTransactionConfirmed
        - event: TransactionExecuted(uint256,uint256)
          handler: handleTransactionExecuted
        - event: TransactionConfirmationRevoked(uint256,address,uint256)
          handler: handleTransactionConfirmationRevoked
      file: ../src/endowment-multi-sig.ts
  - kind: ethereum
    name: Registrar
    network: mumbai
    source:
      address: "0xF4A06771BFCADf6B750e92281E19e8d50455763a"
      abi: Registrar
      startBlock: 39305153
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - Strategy
      abis:
        - name: Registrar
          file: ../abis/Registrar.json
      eventHandlers:
        - event: StrategyApprovalUpdated(bytes4,uint8)
          handler: handleStrategyApprovalUpdated
        - event: StrategyParamsUpdated(bytes4,string,address,address,uint8)
          handler: handleStrategyParamsUpdated
      file: ../src/registrar.ts
  - kind: ethereum
    name: VaultEmitter
    network: mumbai
    source:
      address: "0xED43EB001680BbcD73469F8AB42bC72C8758727d"
      abi: VaultEmitter
      startBlock: 39305252
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - Vault
        - VaultShare
      abis:
        - name: VaultEmitter
          file: ../abis/VaultEmitter.json
      eventHandlers:
        - event: Deposit(uint32,address,uint256,uint256)
          handler: handleDeposit
        - event: Redeem(uint32,address,uint256,uint256)
          handler: handleRedeem
        - event: VaultConfigUpdated(address,(uint8,bytes4,address,address,address,address,string,string,address))
          handler: handleVaultConfigUpdated
        - event: VaultCreated(address,(uint8,bytes4,address,address,address,address,string,string,address))
          handler: handleVaultCreated
      file: ../src/vault-emitter.ts
