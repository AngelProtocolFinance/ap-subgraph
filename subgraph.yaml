specVersion: 0.0.5
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum
    name: Router
    network: mumbai
    source:
      address: "0x316E6F804D5Dd748E8dC225643Fc277A55AdFe92"
      abi: Router
      startBlock: 37000000
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - Deposit
        - ErrorBytesLogged
        - ErrorLogged
        - Initialized
        - OwnershipTransferred
        - Redeem
        - Refund
        - RewardsHarvested
        - Transfer
      abis:
        - name: Router
          file: ./abis/Router.json
      eventHandlers:
        - event: Deposit((string,bytes4,bytes4,uint32[],address,uint256,uint256,uint8))
          handler: handleDeposit
        - event: ErrorBytesLogged((string,bytes4,bytes4,uint32[],address,uint256,uint256,uint8),bytes)
          handler: handleErrorBytesLogged
        - event: ErrorLogged((string,bytes4,bytes4,uint32[],address,uint256,uint256,uint8),string)
          handler: handleErrorLogged
        - event: Initialized(uint8)
          handler: handleInitialized
        - event: OwnershipTransferred(indexed address,indexed address)
          handler: handleOwnershipTransferred
        - event: Redeem((string,bytes4,bytes4,uint32[],address,uint256,uint256,uint8),uint256)
          handler: handleRedeem
        - event: Refund((string,bytes4,bytes4,uint32[],address,uint256,uint256,uint8),uint256)
          handler: handleRefund
        - event: RewardsHarvested((string,bytes4,bytes4,uint32[],address,uint256,uint256,uint8))
          handler: handleRewardsHarvested
        - event: Transfer((string,bytes4,bytes4,uint32[],address,uint256,uint256,uint8),uint256)
          handler: handleTransfer
      file: ./src/router.ts
  - kind: ethereum
    name: APTeamMultiSig
    network: mumbai
    source:
      address: "0x5ffD7a356AaF24c47C230077c851ec25DcD2eaD9"
      abi: APTeamMultiSig
      startBlock: 37000000
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - ApprovalsRequiredChanged
        - ConfirmationRevoked
        - APTeamMultiSigDeposit
        - APTeamMultiSigInitialized
        - OwnerAdded
        - OwnerRemoved
        - RequireExecutionChanged
        - TransactionConfirmed
        - TransactionExecuted
        - TransactionExpiryChanged
        - TransactionSubmitted
      abis:
        - name: APTeamMultiSig
          file: ./abis/APTeamMultiSig.json
      eventHandlers:
        - event: ApprovalsRequiredChanged(uint256)
          handler: handleApprovalsRequiredChanged
        - event: ConfirmationRevoked(address,uint256)
          handler: handleConfirmationRevoked
        - event: Deposit(address,uint256)
          handler: handleDeposit
        - event: Initialized(uint8)
          handler: handleInitialized
        - event: OwnerAdded(address)
          handler: handleOwnerAdded
        - event: OwnerRemoved(address)
          handler: handleOwnerRemoved
        - event: RequireExecutionChanged(bool)
          handler: handleRequireExecutionChanged
        - event: TransactionConfirmed(address,uint256)
          handler: handleTransactionConfirmed
        - event: TransactionExecuted(uint256)
          handler: handleTransactionExecuted
        - event: TransactionExpiryChanged(uint256)
          handler: handleTransactionExpiryChanged
        - event: TransactionSubmitted(address,uint256)
          handler: handleTransactionSubmitted
      file: ./src/ap-team-multi-sig.ts
  - kind: ethereum
    name: EndowmentMultiSigFactory
    network: mumbai
    source:
      address: "0x415749DaF6b3cC6E54439333dbf1c6780F3a2a77"
      abi: EndowmentMultiSigFactory
      startBlock: 37000000
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - ContractInstantiated
        - ImplementationUpdated
        - EndowmentMultiSigFactoryOwnershipTransferred
        - ProxyAdminUpdated
      abis:
        - name: EndowmentMultiSigFactory
          file: ./abis/EndowmentMultiSigFactory.json
      eventHandlers:
        - event: ContractInstantiated(address,address)
          handler: handleContractInstantiated
        - event: ImplementationUpdated(address)
          handler: handleImplementationUpdated
        - event: OwnershipTransferred(indexed address,indexed address)
          handler: handleOwnershipTransferred
        - event: ProxyAdminUpdated(address)
          handler: handleProxyAdminUpdated
      file: ./src/endowment-multi-sig-factory.ts
  - kind: ethereum
    name: Registrar
    network: mumbai
    source:
      address: "0xa93b02DAD1bC3Ab4177FB3F2bFCbD2d2CA27Fda9"
      abi: Registrar
      startBlock: 37000000
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - AccountsContractStorageUpdated
        - AngelProtocolParamsUpdated
        - ConfigUpdated
        - FeeSettingsUpdated
        - GasFeeUpdated
        - RegistrarInitialized
        - NetworkConnectionPosted
        - NetworkConnectionRemoved
        - RegistrarOwnershipTransferred
        - RebalanceParamsUpdated
        - StrategyApprovalUpdated
        - StrategyParamsUpdated
        - TokenAcceptanceUpdated
      abis:
        - name: Registrar
          file: ./abis/Registrar.json
      eventHandlers:
        - event: AccountsContractStorageUpdated(string,string)
          handler: handleAccountsContractStorageUpdated
        - event: AngelProtocolParamsUpdated()
          handler: handleAngelProtocolParamsUpdated
        - event: ConfigUpdated()
          handler: handleConfigUpdated
        - event: FeeSettingsUpdated(uint8,uint256,address)
          handler: handleFeeSettingsUpdated
        - event: GasFeeUpdated(address,uint256)
          handler: handleGasFeeUpdated
        - event: Initialized(uint8)
          handler: handleInitialized
        - event: NetworkConnectionPosted(uint256)
          handler: handleNetworkConnectionPosted
        - event: NetworkConnectionRemoved(uint256)
          handler: handleNetworkConnectionRemoved
        - event: OwnershipTransferred(indexed address,indexed address)
          handler: handleOwnershipTransferred
        - event: RebalanceParamsUpdated()
          handler: handleRebalanceParamsUpdated
        - event: StrategyApprovalUpdated(bytes4,uint8)
          handler: handleStrategyApprovalUpdated
        - event: StrategyParamsUpdated(bytes4,address,address,uint8)
          handler: handleStrategyParamsUpdated
        - event: TokenAcceptanceUpdated(address,bool)
          handler: handleTokenAcceptanceUpdated
      file: ./src/registrar.ts
  - kind: ethereum
    name: Accounts
    network: mumbai
    source:
      address: "0x04227A153068bA4d19Ed3fA16b9f6Feede52fFf4"
      abi: Accounts
      startBlock: 37000000
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - AllowanceRemoved
        - AllowanceUpdated
        - AccountsConfigUpdated
        - DaoContractCreated
        - DonationDeposited
        - DonationMatchCreated
        - DonationWithdrawn
        - EndowmentCreated
        - EndowmentSettingUpdated
        - EndowmentUpdated
        - OwnerUpdated
        - TokenSwapped
      abis:
        - name: Accounts
          file: ./abis/Accounts.json
      eventHandlers:
        - event: AllowanceRemoved(address,address,address)
          handler: handleAllowanceRemoved
        - event: AllowanceUpdated(address,address,address,uint256)
          handler: handleAllowanceUpdated
        - event: ConfigUpdated()
          handler: handleConfigUpdated
        - event: DaoContractCreated(uint32,address)
          handler: handleDaoContractCreated
        - event: DonationDeposited(uint256,address,uint256)
          handler: handleDonationDeposited
        - event: DonationMatchCreated(uint256,address)
          handler: handleDonationMatchCreated
        - event: DonationWithdrawn(uint256,address,address,uint256)
          handler: handleDonationWithdrawn
        - event: EndowmentCreated(uint256)
          handler: handleEndowmentCreated
        - event: EndowmentSettingUpdated(uint256,string)
          handler: handleEndowmentSettingUpdated
        - event: EndowmentUpdated(uint256)
          handler: handleEndowmentUpdated
        - event: OwnerUpdated(address)
          handler: handleOwnerUpdated
        - event: TokenSwapped(uint256,uint8,address,uint256,address,uint256)
          handler: handleTokenSwapped
      file: ./src/accounts.ts
  - kind: ethereum
    name: CharityApplication
    network: mumbai
    source:
      address: "0x5239ca9E0EC972Bb7D69E1fB65a253A38b0b51CA"
      abi: CharityApplication
      startBlock: 37000000
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - CharityApproved
        - CharityProposed
        - CharityRejected
        - CharityApplicationConfigUpdated
        - CharityApplicationDeposit
        - GasSent
        - CharityApplicationInitialized
        - SeedAssetTransfer
      abis:
        - name: CharityApplication
          file: ./abis/CharityApplication.json
      eventHandlers:
        - event: CharityApproved(uint256,uint256)
          handler: handleCharityApproved
        - event: CharityProposed(address,uint256,string)
          handler: handleCharityProposed
        - event: CharityRejected(uint256)
          handler: handleCharityRejected
        - event: ConfigUpdated()
          handler: handleConfigUpdated
        - event: Deposit(address,uint256)
          handler: handleDeposit
        - event: GasSent(uint256,address,uint256)
          handler: handleGasSent
        - event: Initialized()
          handler: handleInitialized
        - event: SeedAssetTransfer(uint256,address,uint256)
          handler: handleSeedAssetTransfer
      file: ./src/charity-application.ts
  - kind: ethereum
    name: IndexFund
    network: mumbai
    source:
      address: "0xcf0cA88b8BF985032b27aE4c7488F7A6ad90D643"
      abi: IndexFund
      startBlock: 37000000
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - ActiveFundUpdated
        - IndexFundConfigUpdated
        - DonationMessagesUpdated
        - IndexFundCreated
        - IndexFundRemoved
        - IndexFundInitialized
        - MemberRemoved
        - MembersUpdated
        - IndexFundOwnerUpdated
        - RegistrarUpdated
        - StateUpdated
      abis:
        - name: IndexFund
          file: ./abis/IndexFund.json
      eventHandlers:
        - event: ActiveFundUpdated(uint256)
          handler: handleActiveFundUpdated
        - event: ConfigUpdated()
          handler: handleConfigUpdated
        - event: DonationMessagesUpdated(uint256)
          handler: handleDonationMessagesUpdated
        - event: IndexFundCreated(uint256)
          handler: handleIndexFundCreated
        - event: IndexFundRemoved(uint256)
          handler: handleIndexFundRemoved
        - event: Initialized(uint8)
          handler: handleInitialized
        - event: MemberRemoved(uint256,uint32)
          handler: handleMemberRemoved
        - event: MembersUpdated(uint256,uint32[])
          handler: handleMembersUpdated
        - event: OwnerUpdated(address)
          handler: handleOwnerUpdated
        - event: RegistrarUpdated(address)
          handler: handleRegistrarUpdated
        - event: StateUpdated()
          handler: handleStateUpdated
      file: ./src/index-fund.ts
  - kind: ethereum
    name: ApplicationsMultiSig
    network: mumbai
    source:
      address: "0x798850e0C5a49fC0d88252af3DCBeb7955Ff8d7C"
      abi: ApplicationsMultiSig
      startBlock: 37000000
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - ApplicationsMultiSigApprovalsRequiredChanged
        - ApplicationsMultiSigConfirmationRevoked
        - ApplicationsMultiSigDeposit
        - ApplicationsMultiSigInitialized
        - ApplicationsMultiSigOwnerAdded
        - ApplicationsMultiSigOwnerRemoved
        - ApplicationsMultiSigRequireExecutionChanged
        - ApplicationsMultiSigTransactionConfirmed
        - ApplicationsMultiSigTransactionExecuted
        - ApplicationsMultiSigTransactionExpiryChanged
        - ApplicationsMultiSigTransactionSubmitted
      abis:
        - name: ApplicationsMultiSig
          file: ./abis/ApplicationsMultiSig.json
      eventHandlers:
        - event: ApprovalsRequiredChanged(uint256)
          handler: handleApprovalsRequiredChanged
        - event: ConfirmationRevoked(address,uint256)
          handler: handleConfirmationRevoked
        - event: Deposit(address,uint256)
          handler: handleDeposit
        - event: Initialized(uint8)
          handler: handleInitialized
        - event: OwnerAdded(address)
          handler: handleOwnerAdded
        - event: OwnerRemoved(address)
          handler: handleOwnerRemoved
        - event: RequireExecutionChanged(bool)
          handler: handleRequireExecutionChanged
        - event: TransactionConfirmed(address,uint256)
          handler: handleTransactionConfirmed
        - event: TransactionExecuted(uint256)
          handler: handleTransactionExecuted
        - event: TransactionExpiryChanged(uint256)
          handler: handleTransactionExpiryChanged
        - event: TransactionSubmitted(address,uint256)
          handler: handleTransactionSubmitted
      file: ./src/applications-multi-sig.ts
templates:
  - kind: ethereum
    name: EndowmentMultiSig
    network: mumbai
    source:
      abi: EndowmentMultiSig
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - EndowmentMultiSigApprovalsRequiredChanged
        - EndowmentMultiSigConfirmationRevoked
        - EndowmentMultiSigDeposit
        - EndowmentMultiSigInitialized
        - EndowmentMultiSigOwnerAdded
        - EndowmentMultiSigOwnerRemoved
        - EndowmentMultiSigRequireExecutionChanged
        - EndowmentMultiSigTransactionConfirmed
        - EndowmentMultiSigTransactionExecuted
        - EndowmentMultiSigTransactionExpiryChanged
        - EndowmentMultiSigTransactionSubmitted
      abis:
        - name: EndowmentMultiSig
          file: ./abis/EndowmentMultiSig.json
      eventHandlers:
        - event: ApprovalsRequiredChanged(uint256)
          handler: handleApprovalsRequiredChanged
        - event: ConfirmationRevoked(address,uint256)
          handler: handleConfirmationRevoked
        - event: Deposit(address,uint256)
          handler: handleDeposit
        - event: Initialized(uint8)
          handler: handleInitialized
        - event: OwnerAdded(address)
          handler: handleOwnerAdded
        - event: OwnerRemoved(address)
          handler: handleOwnerRemoved
        - event: RequireExecutionChanged(bool)
          handler: handleRequireExecutionChanged
        - event: TransactionConfirmed(address,uint256)
          handler: handleTransactionConfirmed
        - event: TransactionExecuted(uint256)
          handler: handleTransactionExecuted
        - event: TransactionExpiryChanged(uint256)
          handler: handleTransactionExpiryChanged
        - event: TransactionSubmitted(address,uint256)
          handler: handleTransactionSubmitted
      file: ./src/endowment-multi-sig.ts
  