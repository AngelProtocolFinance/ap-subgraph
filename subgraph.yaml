specVersion: 0.0.5
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum
    name: Accounts
    network: mumbai
    source:
      address: "0x232A7A490290978D2610f077CC5bcc182Ae47034"
      abi: Accounts
      startBlock: 38587615
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - User
        - Endowment
        - EndowmentTokenLocked
        - EndowmentTokenLiquid
        - EndowmentTokenAllowanceSpender
        - EndowmentDepositTransaction
        - EndowmentWithdrawTransaction
        - EndowmentSwapTransaction
      abis:
        - name: Accounts
          file: ./abis/Accounts.json
      eventHandlers:
        - event: EndowmentCreated(uint256,uint8)
          handler: handleEndowmentCreated
        - event: AllowanceUpdated(uint256,address,address,uint256,uint256,uint256)
          handler: handleAllowanceUpdated
        - event: AllowanceSpent(uint256,address,address,uint256)
          handler: handleAllowanceSpent
        - event: EndowmentDeposit(uint256,address,uint256,uint256)
          handler: handleEndowmentDeposit
        - event: EndowmentWithdraw(uint256,address,uint256,uint8,address,uint32)
          handler: handleEndowmentWithdraw
        - event: TokenSwapped(uint256,uint8,address,uint256,address,uint256)
          handler: handleTokenSwapped
      file: ./src/accounts.ts
  - kind: ethereum
    name: APTeamMultiSig
    network: mumbai
    source:
      address: "0x58F5663E1029F85Ee77b1AD08241d9e626fa4AA9"
      abi: APTeamMultiSig
      startBlock: 38588293
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - User
        - MultiSig
        - MultiSigOwner
        - MultiSigTransaction
        - TransactionConfirmation
      abis:
        - name: APTeamMultiSig
          file: ./abis/APTeamMultiSig.json
      eventHandlers:
        - event: InitializedMultiSig(address,address[],uint256,bool,uint256)
          handler: handleInitializedMultiSig
        - event: ApprovalsRequiredChanged(address,uint256)
          handler: handleApprovalsRequiredChanged
        - event: RequireExecutionChanged(address,bool)
          handler: handleRequireExecutionChanged
        - event: ExpiryChanged(address,uint256)
          handler: handleExpiryChanged
        - event: OwnersAdded(address,address[])
          handler: handleOwnersAdded
        - event: OwnersRemoved(address,address[])
          handler: handleOwnersRemoved
        - event: OwnerReplaced(address,address,address)
          handler: handleOwnerReplaced
        - event: TransactionSubmitted(address,address,uint256,bytes)
          handler: handleTransactionSubmitted
        - event: TransactionConfirmed(address,address,uint256)
          handler: handleTransactionConfirmed
        - event: TransactionExecuted(address,uint256)
          handler: handleTransactionExecuted
        - event: TransactionConfirmationRevoked(address,address,uint256)
          handler: handleTransactionConfirmationRevoked
      file: ./src/ap-team-multi-sig.ts
  - kind: ethereum
    name: CharityApplications
    network: mumbai
    source:
      address: "0x34742B1297AFc4E0F08b6511133091B53C3DF427"
      abi: CharityApplications
      startBlock: 38587561
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - User
        - MultiSig
        - MultiSigOwner
        - MultiSigTransaction
        - TransactionConfirmation
        - ApplicationProposal
        - ApplicationConfirmation
      abis:
        - name: CharityApplications
          file: ./abis/CharityApplications.json
      eventHandlers:
        - event: InitializedMultiSig(address,address[],uint256,bool,uint256)
          handler: handleInitializedMultiSig
        - event: ApprovalsRequiredChanged(address,uint256)
          handler: handleApprovalsRequiredChanged
        - event: RequireExecutionChanged(address,bool)
          handler: handleRequireExecutionChanged
        - event: ExpiryChanged(address,uint256)
          handler: handleExpiryChanged
        - event: OwnersAdded(address,address[])
          handler: handleOwnersAdded
        - event: OwnersRemoved(address,address[])
          handler: handleOwnersRemoved
        - event: OwnerReplaced(address,address,address)
          handler: handleOwnerReplaced
        - event: TransactionSubmitted(address,address,uint256,bytes)
          handler: handleTransactionSubmitted
        - event: TransactionConfirmed(address,address,uint256)
          handler: handleTransactionConfirmed
        - event: TransactionExecuted(address,uint256)
          handler: handleTransactionExecuted
        - event: TransactionConfirmationRevoked(address,address,uint256)
          handler: handleTransactionConfirmationRevoked
        - event: ApplicationConfirmationRevoked(uint256,address)
          handler: handleApplicationConfirmationRevoked
        - event: ApplicationConfirmed(uint256,address)
          handler: handleApplicationConfirmed
        - event: ApplicationExecuted(uint256)
          handler: handleApplicationExecuted
        - event: ApplicationProposed(uint256,address,string,uint256,bytes)
          handler: handleApplicationProposed
      file: ./src/charity-applications.ts
  - kind: ethereum
    name: EndowmentMultiSigEmitter
    network: mumbai
    source:
      address: "0xDA1a1113c6768768A510Aa2C1F3247CAA9F17d20"
      abi: EndowmentMultiSigEmitter
      startBlock: 38588196
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - User
        - MultiSig
        - MultiSigOwner
        - MultiSigTransaction
        - TransactionConfirmation
      abis:
        - name: EndowmentMultiSigEmitter
          file: ./abis/EndowmentMultiSigEmitter.json
      eventHandlers:
        - event: EndowmentMultisigCreated(address,uint256,address,address[],uint256,bool,uint256)
          handler: handleEndowmentMultisigCreated
        - event: ApprovalsRequirementChanged(uint256,uint256)
          handler: handleApprovalsRequirementChanged
        - event: RequireExecutionChanged(uint256,bool)
          handler: handleRequireExecutionChanged
        - event: ExpiryChanged(uint256,uint256)
          handler: handleExpiryChanged
        - event: OwnersAdded(uint256,address[])
          handler: handleOwnersAdded
        - event: OwnersRemoved(uint256,address[])
          handler: handleOwnersRemoved
        - event: TransactionSubmitted(uint256,address,uint256,bytes)
          handler: handleTransactionSubmitted
        - event: TransactionConfirmed(uint256,address,uint256)
          handler: handleTransactionConfirmed
        - event: TransactionExecuted(uint256,uint256)
          handler: handleTransactionExecuted
        - event: TransactionConfirmationRevoked(uint256,address,uint256)
          handler: handleTransactionConfirmationRevoked
      file: ./src/endowment-multi-sig.ts
  - kind: ethereum
    name: Registrar
    network: mumbai
    source:
      address: "0xe1215B3e150dd298d787D41a4879959D30Dc3939"
      abi: Registrar
      startBlock: 38267261
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - Strategy
      abis:
        - name: Registrar
          file: ./abis/Registrar.json
      eventHandlers:
        - event: StrategyApprovalUpdated(bytes4,uint8)
          handler: handleStrategyApprovalUpdated
        - event: StrategyParamsUpdated(bytes4,string,address,address,uint8)
          handler: handleStrategyParamsUpdated
      file: ./src/registrar.ts
  - kind: ethereum
    name: Vault
    network: mumbai
    source:
      address: "0xe1215B3e150dd298d787D41a4879959D30Dc3939"
      abi: Vault
      startBlock: 38267261
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - Vault
      abis:
        - name: Vault
          file: ./abis/Vault.json
      eventHandlers:
        - event: VaultConfigUpdated((uint8,bytes4,address,address,address,address,string,string,address))
          handler: handleVaultConfigUpdated
      file: ./src/vault.ts
