specVersion: 0.0.5
schema:
  file: ../schema.graphql
dataSources:
  - kind: ethereum
    name: Accounts
    network: mumbai
    source:
      abi: Accounts
      address: "0x6FB00FA229752A5806f0C32849F95b10C2A4ea72"
      startBlock: 39779905
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - User
        - Endowment
        - EndowmentTokenLocked
        - EndowmentTokenLiquid
        - EndowmentTokenAllowanceSpender
        - EndowmentDepositTransaction
        - EndowmentWithdrawTransaction
        - EndowmentSwapTransaction
      abis:
        - name: Accounts
          file: ../abis/Accounts.json
      eventHandlers:
        - event: EndowmentCreated(uint256,uint8)
          handler: handleEndowmentCreated
        - event: EndowmentDeposit(uint256,address,uint256,uint256)
          handler: handleEndowmentDeposit
        - event: EndowmentWithdraw(uint256,address,uint256,uint8,address,uint32)
          handler: handleEndowmentWithdraw
        - event: AllowanceUpdated(uint256,address,address,uint256,uint256,uint256)
          handler: handleAllowanceUpdated
        - event: AllowanceSpent(uint256,address,address,uint256)
          handler: handleAllowanceSpent
        - event: TokenSwapped(uint256,uint8,address,uint256,address,uint256)
          handler: handleTokenSwapped
      file: ../src/accounts.ts
  - kind: ethereum
    name: APTeamMultiSig
    network: mumbai
    source:
      abi: APTeamMultiSig
      address: "0x87256931eEA25BD1B11a89C0D68384B920357DcC"
      startBlock: 39779881
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - User
        - MultiSig
        - MultiSigOwner
        - MultiSigTransaction
        - TransactionConfirmation
      abis:
        - name: APTeamMultiSig
          file: ../abis/APTeamMultiSig.json
      eventHandlers:
        - event: InitializedMultiSig(address,address[],uint256,bool,uint256)
          handler: handleInitializedMultiSig
        - event: ApprovalsRequiredChanged(address,uint256)
          handler: handleApprovalsRequiredChanged
        - event: RequireExecutionChanged(address,bool)
          handler: handleRequireExecutionChanged
        - event: ExpiryChanged(address,uint256)
          handler: handleExpiryChanged
        - event: OwnersAdded(address,address[])
          handler: handleOwnersAdded
        - event: OwnersRemoved(address,address[])
          handler: handleOwnersRemoved
        - event: OwnerReplaced(address,address,address)
          handler: handleOwnerReplaced
        - event: TransactionSubmitted(address,address,uint256,bytes)
          handler: handleTransactionSubmitted
        - event: TransactionConfirmed(address,address,uint256)
          handler: handleTransactionConfirmed
        - event: TransactionExecuted(address,uint256)
          handler: handleTransactionExecuted
        - event: TransactionConfirmationRevoked(address,address,uint256)
          handler: handleTransactionConfirmationRevoked
      file: ../src/ap-team-multi-sig.ts
  - kind: ethereum
    name: CharityApplications
    network: mumbai
    source:
      abi: CharityApplications
      address: "0xEbcEED7A12532F2307Cc8B2223bFA572093B3B64"
      startBlock: 39779967
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - User
        - MultiSig
        - MultiSigOwner
        - MultiSigTransaction
        - TransactionConfirmation
        - ApplicationProposal
        - ApplicationConfirmation
      abis:
        - name: CharityApplications
          file: ../abis/CharityApplications.json
      eventHandlers:
        - event: InitializedMultiSig(address,address[],uint256,bool,uint256)
          handler: handleInitializedMultiSig
        - event: ApprovalsRequiredChanged(address,uint256)
          handler: handleApprovalsRequiredChanged
        - event: RequireExecutionChanged(address,bool)
          handler: handleRequireExecutionChanged
        - event: ExpiryChanged(address,uint256)
          handler: handleExpiryChanged
        - event: OwnersAdded(address,address[])
          handler: handleOwnersAdded
        - event: OwnersRemoved(address,address[])
          handler: handleOwnersRemoved
        - event: OwnerReplaced(address,address,address)
          handler: handleOwnerReplaced
        - event: TransactionSubmitted(address,address,uint256,bytes)
          handler: handleTransactionSubmitted
        - event: TransactionConfirmed(address,address,uint256)
          handler: handleTransactionConfirmed
        - event: TransactionExecuted(address,uint256)
          handler: handleTransactionExecuted
        - event: TransactionConfirmationRevoked(address,address,uint256)
          handler: handleTransactionConfirmationRevoked
        - event: ApplicationConfirmationRevoked(uint256,address)
          handler: handleApplicationConfirmationRevoked
        - event: ApplicationConfirmed(uint256,address)
          handler: handleApplicationConfirmed
        - event: ApplicationExecuted(uint256)
          handler: handleApplicationExecuted
        - event: ApplicationProposed(uint256,address,string,uint256,bytes)
          handler: handleApplicationProposed
      file: ../src/charity-applications.ts
  - kind: ethereum
    name: EndowmentMultiSigEmitter
    network: mumbai
    source:
      abi: EndowmentMultiSigEmitter
      address: "0x1eB3A06d17735e5cDFd629104116367da1792C8b"
      startBlock: 39779985
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - User
        - MultiSig
        - MultiSigOwner
        - MultiSigTransaction
        - TransactionConfirmation
      abis:
        - name: EndowmentMultiSigEmitter
          file: ../abis/EndowmentMultiSigEmitter.json
      eventHandlers:
        - event: EndowmentMultisigCreated(address,uint256,address,address[],uint256,bool,uint256)
          handler: handleEndowmentMultisigCreated
        - event: ApprovalsRequirementChanged(uint256,uint256)
          handler: handleApprovalsRequirementChanged
        - event: RequireExecutionChanged(uint256,bool)
          handler: handleRequireExecutionChanged
        - event: ExpiryChanged(uint256,uint256)
          handler: handleExpiryChanged
        - event: OwnersAdded(uint256,address[])
          handler: handleOwnersAdded
        - event: OwnersRemoved(uint256,address[])
          handler: handleOwnersRemoved
        - event: TransactionSubmitted(uint256,address,uint256,bytes)
          handler: handleTransactionSubmitted
        - event: TransactionConfirmed(uint256,address,uint256)
          handler: handleTransactionConfirmed
        - event: TransactionExecuted(uint256,uint256)
          handler: handleTransactionExecuted
        - event: TransactionConfirmationRevoked(uint256,address,uint256)
          handler: handleTransactionConfirmationRevoked
      file: ../src/endowment-multi-sig.ts
  - kind: ethereum
    name: Registrar
    network: mumbai
    source:
      abi: Registrar
      address: "0x4C9BA17841B62d052E7D1C7d7540af6B84f65866"
      startBlock: 39779888
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - Strategy
      abis:
        - name: Registrar
          file: ../abis/Registrar.json
      eventHandlers:
        - event: StrategyApprovalUpdated(bytes4,uint8)
          handler: handleStrategyApprovalUpdated
        - event: StrategyParamsUpdated(bytes4,string,address,address,uint8)
          handler: handleStrategyParamsUpdated
      file: ../src/registrar.ts
  - kind: ethereum
    name: VaultEmitter
    network: mumbai
    source:
      abi: VaultEmitter
      address: "0xA4EB585D234ed2eDAeBcA3417925bD4E000e0C7f"
      startBlock: 39779991
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - Vault
        - VaultShare
      abis:
        - name: VaultEmitter
          file: ../abis/VaultEmitter.json
      eventHandlers:
        - event: Deposit(uint32,address,uint256,uint256)
          handler: handleDeposit
        - event: Redeem(uint32,address,uint256,uint256)
          handler: handleRedeem
        - event: VaultConfigUpdated(address,(uint8,bytes4,address,address,address,address,string,string,address))
          handler: handleVaultConfigUpdated
        - event: VaultCreated(address,(uint8,bytes4,address,address,address,address,string,string,address))
          handler: handleVaultCreated
      file: ../src/vault-emitter.ts
